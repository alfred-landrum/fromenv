

# fromenv
`import "github.com/alfred-landrum/fromenv"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>
Package fromenv can set specially tagged struct fields with values
from the environment.


	var c struct {
		Field1 string  	`fromenv:"FIELD1_KEY,my-default"`
		Field2 int     	`fromenv:"FIELD2_KEY,7"`
		Field3 bool    	`fromenv:"FIELD3_KEY"`
	
		Inner struct {
			Field4 string	`fromenv:"FIELD4_KEY"`
		}
	}
	
	os.Setenv("FIELD1_KEY","foo")
	os.Unsetenv("FIELD2_KEY")
	os.Setenv("FIELD3_KEY","true")
	os.Setenv("FIELD4_KEY","inner too!")
	
	err := fromenv.Unmarshal(&c)
	// c.Field1 == "foo"
	// c.Field2 == 7
	// c.Field3 == true
	// c.Inner.Field4 == "inner too!"




## <a name="pkg-index">Index</a>
* [func Unmarshal(in interface{}, options ...Option) error](#Unmarshal)
* [type LookupEnvFunc](#LookupEnvFunc)
* [type Option](#Option)
  * [func DefaultsOnly() Option](#DefaultsOnly)
  * [func Looker(f LookupEnvFunc) Option](#Looker)
  * [func Map(m map[string]string) Option](#Map)


#### <a name="pkg-files">Package files</a>
[fromenv.go](/src/github.com/alfred-landrum/fromenv/fromenv.go) 





## <a name="Unmarshal">func</a> [Unmarshal](/src/target/fromenv.go?s=1385:1440#L44)
``` go
func Unmarshal(in interface{}, options ...Option) error
```
Unmarshal takes a pointer to a struct, recursively looks for struct
fields with a "fromenv" tag, and sets the field to the value of the
environment variable given in the tag. A fromenv tag may optionally
specify a default value; the field will be set to this value if the
environment variable is not present.

By default, the "os.LookupEnv" function is used to find the value
for an environment variable.

The supported types are string, uint, int, bool, and float64.




## <a name="LookupEnvFunc">type</a> [LookupEnvFunc](/src/target/fromenv.go?s=2677:2739#L93)
``` go
type LookupEnvFunc func(key string) (value *string, err error)
```
A LookupEnvFunc retrieves the value of the environment variable
named by the key. If the variable isn't present, a nil pointer
is returned.










## <a name="Option">type</a> [Option](/src/target/fromenv.go?s=2964:2989#L104)
``` go
type Option func(*config)
```
An Option is a functional option for Unmarshal.







### <a name="DefaultsOnly">func</a> [DefaultsOnly](/src/target/fromenv.go?s=2399:2425#L82)
``` go
func DefaultsOnly() Option
```
DefaultsOnly configures Unmarshal to only set fields with a tag-defined
default to that default, ignoring other fields and the environment.


### <a name="Looker">func</a> [Looker](/src/target/fromenv.go?s=2828:2863#L97)
``` go
func Looker(f LookupEnvFunc) Option
```
Looker configures the environment lookup function used during an
Unmarshal call.


### <a name="Map">func</a> [Map](/src/target/fromenv.go?s=2062:2098#L69)
``` go
func Map(m map[string]string) Option
```
Map configures Unmarshal to use the given map for environment lookups.









- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
