

# fromenv
`import "github.com/alfred-landrum/fromenv"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)
* [Examples](#pkg-examples)
* [Subdirectories](#pkg-subdirectories)

## <a name="pkg-overview">Overview</a>
Package fromenv can set tagged struct fields with values from the
environment.




## <a name="pkg-index">Index</a>
* [func Unmarshal(in interface{}, options ...Option) error](#Unmarshal)
* [type LookupEnvFunc](#LookupEnvFunc)
* [type Option](#Option)
  * [func DefaultsOnly() Option](#DefaultsOnly)
  * [func Looker(f LookupEnvFunc) Option](#Looker)
  * [func Map(m map[string]string) Option](#Map)
  * [func SetFunc(fn interface{}) Option](#SetFunc)

#### <a name="pkg-examples">Examples</a>
* [Package](#example_)
* [SetFunc](#example_SetFunc)
* [Package (Default)](#example__default)
* [Package (Inner)](#example__inner)

#### <a name="pkg-files">Package files</a>
[doc.go](/src/github.com/alfred-landrum/fromenv/doc.go) [fromenv.go](/src/github.com/alfred-landrum/fromenv/fromenv.go) 





## <a name="Unmarshal">func</a> [Unmarshal](/src/target/fromenv.go?s=1432:1487#L34)
``` go
func Unmarshal(in interface{}, options ...Option) error
```
Unmarshal takes a pointer to a struct, recursively looks for struct fields
with a "env" tag, and, by default, uses the os.LookupEnv function to
determine the desired value from the environment.

An env tag may optionally specify a default desired value; if no entry exists
in the environment for the field's key, then the desired value of the field
will be this default value.

Unmarshal will set the struct field (of type T) to the desired value by whichever method matches first:

* Using a function of type "func(*T, string) error" configured via SetFunc.

* If T satisfies an interface of `func Set(string) error`, then its Set function.

* If T is a boolean, numeric, or string type, then the appropriate strconv function will be used.

Unmarshal will return an error if the env tag is used on a struct field that
can't be set with any of the above, or if the value's setting function fails.




## <a name="LookupEnvFunc">type</a> [LookupEnvFunc](/src/target/fromenv.go?s=2404:2466#L78)
``` go
type LookupEnvFunc func(key string) (value *string, err error)
```
A LookupEnvFunc retrieves the value of the environment variable
named by the key. If the variable isn't present, a nil pointer
is returned.










## <a name="Option">type</a> [Option](/src/target/fromenv.go?s=4560:4585#L160)
``` go
type Option func(*config)
```
An Option is a functional option for Unmarshal.







### <a name="DefaultsOnly">func</a> [DefaultsOnly](/src/target/fromenv.go?s=3020:3046#L100)
``` go
func DefaultsOnly() Option
```
DefaultsOnly configures Unmarshal to only set fields with a tag-defined
default to that default, ignoring other fields and the environment.


### <a name="Looker">func</a> [Looker](/src/target/fromenv.go?s=2555:2590#L82)
``` go
func Looker(f LookupEnvFunc) Option
```
Looker configures the environment lookup function used during an
Unmarshal call.


### <a name="Map">func</a> [Map](/src/target/fromenv.go?s=2714:2750#L89)
``` go
func Map(m map[string]string) Option
```
Map configures Unmarshal to use the given map for environment lookups.


### <a name="SetFunc">func</a> [SetFunc](/src/target/fromenv.go?s=4208:4243#L145)
``` go
func SetFunc(fn interface{}) Option
```
SetFunc takes a function of form "func(*T, string) error", and configures
Unmarshal to use that function to set the value of any type T's.









- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
